services:
  nginx:
    build:
      context: ./nginx
    container_name: nginx

  api:
    build:
      context: .
    container_name: api

  redis:
    image: redis:7-alpine
    container_name: redis

  cassandra:
    image: cassandra:latest
    container_name: cassandra
    ports:
      - "9042:9042"
    environment:
      - MAX_HEAP_SIZE=256M
      - HEAP_NEWSIZE=128M
      - CASSANDRA_CLUSTER_NAME=MyCluster
      - CASSANDRA_DC=datacenter1
      - CASSANDRA_ENDPOINT_SNITCH=SimpleSnitch
      - CASSANDRA_NUM_TOKENS=128

